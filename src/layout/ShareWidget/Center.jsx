import { func } from "prop-types";
import { useEffect, useRef, useState } from "react";
import Button from "../../components/Button";
import Input from "../../components/Input";

export default function Center({ workspaceMembers }) {
  const emailInviteRef = useRef(null);
  const [emailInvite, setEmailInvite] = useState(false);
  const [emailError, setEmailError] = useState(null);

  const emailInviteHandler = () => {
    const fieldValue = emailInviteRef.current.value;
    const emailRegex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;

    if (!fieldValue.match(emailRegex)) setEmailError("Enter Valid Email Address");
  };

  useEffect(() => {
    const timerId = setTimeout(() => {
      setEmailError(null);
    }, 2000);

    return () => {
      clearTimeout(timerId);
    };
  }, [emailError]);

  return (
    <div className="widget-center flex flex-column">
      <section className="widget-input--group flex">
        <Input
          reference={emailInviteRef}
          type="email"
          blurHandler={emailInviteHandler}
          required
          id="widget-input"
          className="widget-input"
          placeholder="People, emails, groups"
        />
        <Button className="widget-invite--btn" clickHandler={emailInviteHandler}>
          Invite
        </Button>
      </section>
      {emailError && <p className="email-error">{emailError}</p>}
      <section className="widget-workspace flex">
        <div className="widget-center--left flex">
          <svg className="oshlash-icon" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="40" height="40" rx="4" fill="#111827" />
            <path
              d="M14.4014 9.97543C12.0847 9.97403 9.83932 10.7901 8.04775 12.2845C6.25617 13.779 5.0293 15.8594 4.5762 18.1712C4.12311 20.4829 4.47183 22.8831 5.56293 24.9625C6.65404 27.042 8.42001 28.6721 10.5599 29.5751C12.6998 30.4781 15.0812 30.5981 17.2984 29.9147C19.5155 29.2312 21.4311 27.7866 22.7187 25.827C24.0064 23.8674 24.5865 21.5141 24.36 19.1681C24.1336 16.8221 23.1147 14.6285 21.477 12.9613C20.5483 12.0149 19.4454 11.264 18.2313 10.7517C17.0172 10.2394 15.7157 9.9756 14.4014 9.97543V9.97543ZM14.4014 25.4311C13.2057 25.4316 12.047 25.0101 11.1225 24.2387C10.198 23.4672 9.56503 22.3934 9.3314 21.2002C9.09777 20.0071 9.27795 18.7684 9.84125 17.6953C10.4045 16.6222 11.3161 15.781 12.4206 15.3151C13.525 14.8493 14.7541 14.7875 15.8983 15.1404C17.0425 15.4933 18.0311 16.239 18.6955 17.2504C19.36 18.2618 19.6592 19.4764 19.5422 20.6872C19.4252 21.898 18.8993 23.03 18.054 23.8904C17.5748 24.3792 17.0054 24.7669 16.3786 25.0313C15.7518 25.2957 15.0799 25.4316 14.4014 25.4311V25.4311Z"
              fill="#C2A6F1"
            />
            <path
              d="M14.4014 9.97543C12.0847 9.97403 9.83932 10.7901 8.04775 12.2845C6.25617 13.779 5.0293 15.8594 4.5762 18.1712C4.12311 20.4829 4.47183 22.8831 5.56293 24.9625C6.65404 27.042 8.42001 28.6721 10.5599 29.5751C12.6998 30.4781 15.0812 30.5981 17.2984 29.9147C19.5155 29.2312 21.4311 27.7866 22.7187 25.827C24.0064 23.8674 24.5865 21.5141 24.36 19.1681C24.1336 16.8221 23.1147 14.6285 21.477 12.9613C20.5483 12.0149 19.4454 11.264 18.2313 10.7517C17.0172 10.2394 15.7157 9.9756 14.4014 9.97543V9.97543ZM14.4014 25.4311C13.2057 25.4316 12.047 25.0101 11.1225 24.2387C10.198 23.4672 9.56503 22.3934 9.3314 21.2002C9.09777 20.0071 9.27795 18.7684 9.84125 17.6953C10.4045 16.6222 11.3161 15.781 12.4206 15.3151C13.525 14.8493 14.7541 14.7875 15.8983 15.1404C17.0425 15.4933 18.0311 16.239 18.6955 17.2504C19.36 18.2618 19.6592 19.4764 19.5422 20.6872C19.4252 21.898 18.8993 23.03 18.054 23.8904C17.5748 24.3792 17.0054 24.7669 16.3786 25.0313C15.7518 25.2957 15.0799 25.4316 14.4014 25.4311V25.4311Z"
              fill="url(#paint0_radial_1_1569)"
            />
            <path
              d="M14.4014 9.97543C12.0847 9.97403 9.83932 10.7901 8.04775 12.2845C6.25617 13.779 5.0293 15.8594 4.5762 18.1712C4.12311 20.4829 4.47183 22.8831 5.56293 24.9625C6.65404 27.042 8.42001 28.6721 10.5599 29.5751C12.6998 30.4781 15.0812 30.5981 17.2984 29.9147C19.5155 29.2312 21.4311 27.7866 22.7187 25.827C24.0064 23.8674 24.5865 21.5141 24.36 19.1681C24.1336 16.8221 23.1147 14.6285 21.477 12.9613C20.5483 12.0149 19.4454 11.264 18.2313 10.7517C17.0172 10.2394 15.7157 9.9756 14.4014 9.97543V9.97543ZM14.4014 25.4311C13.2057 25.4316 12.047 25.0101 11.1225 24.2387C10.198 23.4672 9.56503 22.3934 9.3314 21.2002C9.09777 20.0071 9.27795 18.7684 9.84125 17.6953C10.4045 16.6222 11.3161 15.781 12.4206 15.3151C13.525 14.8493 14.7541 14.7875 15.8983 15.1404C17.0425 15.4933 18.0311 16.239 18.6955 17.2504C19.36 18.2618 19.6592 19.4764 19.5422 20.6872C19.4252 21.898 18.8993 23.03 18.054 23.8904C17.5748 24.3792 17.0054 24.7669 16.3786 25.0313C15.7518 25.2957 15.0799 25.4316 14.4014 25.4311V25.4311Z"
              fill="url(#paint1_linear_1_1569)"
            />
            <path
              d="M14.4014 9.97543C12.0847 9.97403 9.83932 10.7901 8.04775 12.2845C6.25617 13.779 5.0293 15.8594 4.5762 18.1712C4.12311 20.4829 4.47183 22.8831 5.56293 24.9625C6.65404 27.042 8.42001 28.6721 10.5599 29.5751C12.6998 30.4781 15.0812 30.5981 17.2984 29.9147C19.5155 29.2312 21.4311 27.7866 22.7187 25.827C24.0064 23.8674 24.5865 21.5141 24.36 19.1681C24.1336 16.8221 23.1147 14.6285 21.477 12.9613C20.5483 12.0149 19.4454 11.264 18.2313 10.7517C17.0172 10.2394 15.7157 9.9756 14.4014 9.97543V9.97543ZM14.4014 25.4311C13.2057 25.4316 12.047 25.0101 11.1225 24.2387C10.198 23.4672 9.56503 22.3934 9.3314 21.2002C9.09777 20.0071 9.27795 18.7684 9.84125 17.6953C10.4045 16.6222 11.3161 15.781 12.4206 15.3151C13.525 14.8493 14.7541 14.7875 15.8983 15.1404C17.0425 15.4933 18.0311 16.239 18.6955 17.2504C19.36 18.2618 19.6592 19.4764 19.5422 20.6872C19.4252 21.898 18.8993 23.03 18.054 23.8904C17.5748 24.3792 17.0054 24.7669 16.3786 25.0313C15.7518 25.2957 15.0799 25.4316 14.4014 25.4311V25.4311Z"
              fill="url(#paint2_linear_1_1569)"
            />
            <path
              d="M14.4014 9.97543C12.0847 9.97403 9.83932 10.7901 8.04775 12.2845C6.25617 13.779 5.0293 15.8594 4.5762 18.1712C4.12311 20.4829 4.47183 22.8831 5.56293 24.9625C6.65404 27.042 8.42001 28.6721 10.5599 29.5751C12.6998 30.4781 15.0812 30.5981 17.2984 29.9147C19.5155 29.2312 21.4311 27.7866 22.7187 25.827C24.0064 23.8674 24.5865 21.5141 24.36 19.1681C24.1336 16.8221 23.1147 14.6285 21.477 12.9613C20.5483 12.0149 19.4454 11.264 18.2313 10.7517C17.0172 10.2394 15.7157 9.9756 14.4014 9.97543V9.97543ZM14.4014 25.4311C13.2057 25.4316 12.047 25.0101 11.1225 24.2387C10.198 23.4672 9.56503 22.3934 9.3314 21.2002C9.09777 20.0071 9.27795 18.7684 9.84125 17.6953C10.4045 16.6222 11.3161 15.781 12.4206 15.3151C13.525 14.8493 14.7541 14.7875 15.8983 15.1404C17.0425 15.4933 18.0311 16.239 18.6955 17.2504C19.36 18.2618 19.6592 19.4764 19.5422 20.6872C19.4252 21.898 18.8993 23.03 18.054 23.8904C17.5748 24.3792 17.0054 24.7669 16.3786 25.0313C15.7518 25.2957 15.0799 25.4316 14.4014 25.4311V25.4311Z"
              fill="url(#paint3_linear_1_1569)"
            />
            <path
              d="M14.4014 9.97543C12.0847 9.97403 9.83932 10.7901 8.04775 12.2845C6.25617 13.779 5.0293 15.8594 4.5762 18.1712C4.12311 20.4829 4.47183 22.8831 5.56293 24.9625C6.65404 27.042 8.42001 28.6721 10.5599 29.5751C12.6998 30.4781 15.0812 30.5981 17.2984 29.9147C19.5155 29.2312 21.4311 27.7866 22.7187 25.827C24.0064 23.8674 24.5865 21.5141 24.36 19.1681C24.1336 16.8221 23.1147 14.6285 21.477 12.9613C20.5483 12.0149 19.4454 11.264 18.2313 10.7517C17.0172 10.2394 15.7157 9.9756 14.4014 9.97543V9.97543ZM14.4014 25.4311C13.2057 25.4316 12.047 25.0101 11.1225 24.2387C10.198 23.4672 9.56503 22.3934 9.3314 21.2002C9.09777 20.0071 9.27795 18.7684 9.84125 17.6953C10.4045 16.6222 11.3161 15.781 12.4206 15.3151C13.525 14.8493 14.7541 14.7875 15.8983 15.1404C17.0425 15.4933 18.0311 16.239 18.6955 17.2504C19.36 18.2618 19.6592 19.4764 19.5422 20.6872C19.4252 21.898 18.8993 23.03 18.054 23.8904C17.5748 24.3792 17.0054 24.7669 16.3786 25.0313C15.7518 25.2957 15.0799 25.4316 14.4014 25.4311V25.4311Z"
              fill="url(#paint4_radial_1_1569)"
            />
            <path
              d="M14.4014 9.97543C12.0847 9.97403 9.83932 10.7901 8.04775 12.2845C6.25617 13.779 5.0293 15.8594 4.5762 18.1712C4.12311 20.4829 4.47183 22.8831 5.56293 24.9625C6.65404 27.042 8.42001 28.6721 10.5599 29.5751C12.6998 30.4781 15.0812 30.5981 17.2984 29.9147C19.5155 29.2312 21.4311 27.7866 22.7187 25.827C24.0064 23.8674 24.5865 21.5141 24.36 19.1681C24.1336 16.8221 23.1147 14.6285 21.477 12.9613C20.5483 12.0149 19.4454 11.264 18.2313 10.7517C17.0172 10.2394 15.7157 9.9756 14.4014 9.97543V9.97543ZM14.4014 25.4311C13.2057 25.4316 12.047 25.0101 11.1225 24.2387C10.198 23.4672 9.56503 22.3934 9.3314 21.2002C9.09777 20.0071 9.27795 18.7684 9.84125 17.6953C10.4045 16.6222 11.3161 15.781 12.4206 15.3151C13.525 14.8493 14.7541 14.7875 15.8983 15.1404C17.0425 15.4933 18.0311 16.239 18.6955 17.2504C19.36 18.2618 19.6592 19.4764 19.5422 20.6872C19.4252 21.898 18.8993 23.03 18.054 23.8904C17.5748 24.3792 17.0054 24.7669 16.3786 25.0313C15.7518 25.2957 15.0799 25.4316 14.4014 25.4311V25.4311Z"
              fill="url(#paint5_radial_1_1569)"
            />
            <path
              d="M14.4014 9.97543C12.0847 9.97403 9.83932 10.7901 8.04775 12.2845C6.25617 13.779 5.0293 15.8594 4.5762 18.1712C4.12311 20.4829 4.47183 22.8831 5.56293 24.9625C6.65404 27.042 8.42001 28.6721 10.5599 29.5751C12.6998 30.4781 15.0812 30.5981 17.2984 29.9147C19.5155 29.2312 21.4311 27.7866 22.7187 25.827C24.0064 23.8674 24.5865 21.5141 24.36 19.1681C24.1336 16.8221 23.1147 14.6285 21.477 12.9613C20.5483 12.0149 19.4454 11.264 18.2313 10.7517C17.0172 10.2394 15.7157 9.9756 14.4014 9.97543V9.97543ZM14.4014 25.4311C13.2057 25.4316 12.047 25.0101 11.1225 24.2387C10.198 23.4672 9.56503 22.3934 9.3314 21.2002C9.09777 20.0071 9.27795 18.7684 9.84125 17.6953C10.4045 16.6222 11.3161 15.781 12.4206 15.3151C13.525 14.8493 14.7541 14.7875 15.8983 15.1404C17.0425 15.4933 18.0311 16.239 18.6955 17.2504C19.36 18.2618 19.6592 19.4764 19.5422 20.6872C19.4252 21.898 18.8993 23.03 18.054 23.8904C17.5748 24.3792 17.0054 24.7669 16.3786 25.0313C15.7518 25.2957 15.0799 25.4316 14.4014 25.4311V25.4311Z"
              fill="url(#paint6_linear_1_1569)"
            />
            <path d="M35.2809 9.97543L30.6064 20.1966H25.771L30.4377 9.97543H35.2809Z" fill="white" />
            <path d="M35.4503 20.1966L30.7837 30.4178H25.9404L30.6062 20.1966H35.4503Z" fill="white" />
            <defs>
              <radialGradient
                id="paint0_radial_1_1569"
                cx="0"
                cy="0"
                r="1"
                gradientUnits="userSpaceOnUse"
                gradientTransform="translate(22.5557 18.1568) rotate(105.445) scale(20.585 9.26609)"
              >
                <stop stopColor="#FFFECB" />
                <stop offset="0.344597" stopColor="#FEE4BF" />
                <stop offset="0.695017" stopColor="#F0BDD0" />
                <stop offset="1" stopColor="#FF8126" stopOpacity="0" />
              </radialGradient>
              <linearGradient
                id="paint1_linear_1_1569"
                x1="15.7596"
                y1="8.59913"
                x2="20.5855"
                y2="12.376"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#C0A9F0" stopOpacity="0" />
                <stop offset="0.456382" stopColor="#C0A9F0" />
                <stop offset="1" stopColor="#C0A9F0" stopOpacity="0" />
              </linearGradient>
              <linearGradient
                id="paint2_linear_1_1569"
                x1="25.8348"
                y1="5.19661"
                x2="20.1336"
                y2="12.7837"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#C0A9F0" stopOpacity="0" />
                <stop offset="0.461891" stopColor="#C0A9F0" />
                <stop offset="1" stopColor="#C0A9F0" stopOpacity="0" />
              </linearGradient>
              <linearGradient
                id="paint3_linear_1_1569"
                x1="9.47672"
                y1="13.1868"
                x2="15.057"
                y2="18.5931"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#3FFFB5" stopOpacity="0.54" />
                <stop offset="1" stopColor="#CDF9E8" stopOpacity="0" />
              </linearGradient>
              <radialGradient
                id="paint4_radial_1_1569"
                cx="0"
                cy="0"
                r="1"
                gradientUnits="userSpaceOnUse"
                gradientTransform="translate(13.5068 19.0743) rotate(-116.953) scale(6.2404 12.2065)"
              >
                <stop stopColor="#CBADEB" />
                <stop offset="1" stopColor="#C2A6F1" stopOpacity="0" />
              </radialGradient>
              <radialGradient
                id="paint5_radial_1_1569"
                cx="0"
                cy="0"
                r="1"
                gradientUnits="userSpaceOnUse"
                gradientTransform="translate(11.5668 30.3523) rotate(-124.631) scale(8.89753 11.7777)"
              >
                <stop stopColor="#DC8DDC" />
                <stop offset="1" stopColor="#DC8DDC" stopOpacity="0" />
              </radialGradient>
              <linearGradient
                id="paint6_linear_1_1569"
                x1="4.38281"
                y1="9.97543"
                x2="8.68933"
                y2="12.7609"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#FFB762" />
                <stop offset="1" stopColor="#EBF3D0" stopOpacity="0" />
              </linearGradient>
            </defs>
          </svg>
          <div className="workspace-info flex flex-column">
            <h5>Everyone at OSlash</h5>
            <p>{workspaceMembers} workspace members</p>
          </div>
        </div>
        <div className="widget-center--right" tabIndex={0}>
          <select className="widget-dropdown" id="" tabIndex={1}>
            <option value="1">No access</option>
            <option value="2">Full access</option>
          </select>
        </div>
      </section>
    </div>
  );
}
